<app-bar></app-bar>
<ion-content>
  <div *ngIf="trip" class="ion-margin">
    <h1>{{trip.title}}</h1>
    <ion-grid class="ion-no-padding ion-margin-bottom">
      <ion-row>
        <ion-col class="ion-no-padding" size="6">
          <span class="bar1">{{trip.userName}}</span>
        </ion-col>
        <ion-col class="ion-text-right">
          <span>{{trip.countries}}</span>
        </ion-col>
      </ion-row>
    </ion-grid>
    <img src='{{trip.image}}' height="150px" width="343px" alt="">
    <p class="text-right">Del {{trip.initDate}} al {{trip.endDate}}</p>
    <p class="text-justify">{{trip.description}}</p>
    <div>
      <ion-row>
        <img src='{{trip.image}}' height="100" width="100px" alt="">
        <div class="m-auto h5">
          <p>Valoraci√≥n:</p>
          <div *ngIf="totalRate>0; else noRates">
            <ion-icon [color]="totalRate>=1 ? 'warning':'dark'" [name]="totalRate>=1 ? 'star':'star-outline'"></ion-icon>
            <ion-icon [color]="totalRate>=2 ? 'warning':'dark'" [name]="totalRate>=2 ? 'star':'star-outline'"></ion-icon>
            <ion-icon [color]="totalRate>=3 ? 'warning':'dark'" [name]="totalRate>=3 ? 'star':'star-outline'"></ion-icon>
            <ion-icon [color]="totalRate>=4 ? 'warning':'dark'" [name]="totalRate>=4 ? 'star':'star-outline'"></ion-icon>
            <ion-icon [color]="totalRate>=5 ? 'warning':'dark'" [name]="totalRate>=5 ? 'star':'star-outline'"></ion-icon>
          </div>
          <ng-template #noRates>
            <p class="small">Sin valoraciones</p>
          </ng-template>
        </div>
      </ion-row>
    </div>
    <p class="mt-3">
      <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
      Comentarios:</p>
    <ion-list *ngFor="let rate of rates">
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <ion-label>{{rate.userName}}</ion-label>
            </ion-col>
            <ion-col offset="2" size="4">
              <div>
              <ion-icon [color]="totalRate>=1 ? 'warning':'dark'" [name]="rate.ratePoints>=1 ? 'star':'star-outline'"></ion-icon>
              <ion-icon [color]="totalRate>=2 ? 'warning':'dark'" [name]="rate.ratePoints>=2 ? 'star':'star-outline'"></ion-icon>
              <ion-icon [color]="totalRate>=3 ? 'warning':'dark'" [name]="rate.ratePoints>=3 ? 'star':'star-outline'"></ion-icon>
              <ion-icon [color]="totalRate>=4 ? 'warning':'dark'" [name]="rate.ratePoints>=4 ? 'star':'star-outline'"></ion-icon>
              <ion-icon [color]="totalRate>=5 ? 'warning':'dark'" [name]="rate.ratePoints>=5 ? 'star':'star-outline'"></ion-icon>
            </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item lines="none" color="light">
        <p>{{rate.comment}}</p>
      </ion-item>
    </ion-list>
    <ion-button (click)="presentModal()" [disabled]="alreadyCommented">Nuevo comentario</ion-button>
  </div>
</ion-content>
